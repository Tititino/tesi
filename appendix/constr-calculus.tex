\chapter{Constraint calculus}
\begin{figure}[h!]
	\begin{subfigure}{\textwidth}
		\centering
			\begin{tblr}{ colspec = { cc }
				    , rows = {abovesep=10pt, belowsep=10pt}
				    , cells = { preto = {\footnotesize} }
				    }
			\SetCell[c=2]{c} 
			\AX$\async{\Psi}{\Delta}{\af{\phi_1}{e}, \af{\phi_2}{e}, \Phi} \fCenter \separator \constr{\used{e}, \Lambda}{\mathV}$
			\LeftLabel{\derRule{\displaypar}}
			\UI$\async{\Psi}{\Delta}{\af{\phi_1 \llpar \phi_2}{e}, \Phi} \fCenter \separator \constr{\Lambda}{\mathV}$
			\DP 
			\\
			\AX$\async{\Psi}{\Delta}{\Phi} \fCenter \separator \constr{\used{e}, \Lambda}{\mathV}$
			\LeftLabel{\derRule{\displaybot}}
			\UI$\async{\Psi}{\Delta}{\af{\llbot}{e}, \Phi} \fCenter \separator \constr{\Lambda}{\mathV}$
			\DP
			&
			\AXC{}
			\LeftLabel{\derRule{\displaytop}}
			\UIC{$\async{\Psi}{\Delta}{\af{\lltop}{-}, \Phi} \separator \constr{\Lambda}{\mathV}$}
			\DP
			\\
			\SetCell[c=2]{c} 
			\AX$\async{\Psi}{\Delta}{\af{\phi_2}{e}, \Phi} \fCenter \separator \constr{\used{e}, \Lambda}{\mathV'},$
			\noLine
			\UI$\async{\Psi}{\Delta}{\af{\phi_1}{e}, \Phi} \fCenter \separator \constr{\used{e}, \Lambda}{\mathV''}$
			\AXC{$\mathV' \sim_{\mathrm{vars}(\Delta, \Phi)} \mathV''$}
			\LeftLabel{\derRule{\displaywith}}
			\BIC{$\async{\Psi}{\Delta}{\af{\phi_1 \llwith \phi_2}{e}, \Phi} \separator \constr{\Lambda}{\mathV''}$}	
			\DP
			\\
			\SetCell[c=2]{c} 
			\AX$\async{\phi, \Psi}{\Delta}{\Phi} \fCenter \separator \constr{\Lambda}{\mathV}$
			\LeftLabel{\derRule{\displaywn}}
			\UI$\async{\Psi}{\Delta}{\af{\llwn{\phi}}{-}, \Phi} \fCenter \separator \constr{\Lambda}{\mathV}$
			\DP
			\\
			\SetCell[c=2]{c} 
			\AXC{$\neg\isAsy{\phi}$}
			\AXC{$\async{\Psi}{\af{\phi}{e}, \Delta}{\Phi} \separator \constr{\Lambda}{\mathV}$}
			\LeftLabel{\derRule{\displaytodelta}}
			\BIC{$\async{\Psi}{\Delta}{\af{\phi}{e}, \Phi} \separator \constr{\Lambda}{\mathV}$}
			\DP
		\end{tblr}
		\caption{Asynchronous rules}
	\end{subfigure}
\end{figure}
\begin{figure}[h!]
	\ContinuedFloat
	\begin{subfigure}{\textwidth}
		\centering
		\begin{tblr}{ colspec = { cc } 
			    , rows = {abovesep=10pt, belowsep=10pt}
			    , vborder{1-2} = { leftspace = 2pt, rightspace = 2pt } 
			    , cells = { preto = {\footnotesize} }
			    }
			\SetCell[c=2]{c}
			\AXC{$ \new{X} $}
			\AX$\focus{\Psi}{\Delta_L^X}{\af{\phi_1}{e}} \fCenter \separator \constr{\used{e}, \Lambda}{\mathV'},$
			\noLine
			\UI$\focus{\Psi}{\Delta_R^X}{\af{\phi_2}{e}} \fCenter \separator \constr{\used{e}, \Lambda}{\mathV''}$
			\AXC{$\mathV' \sim_{\mathrm{vars}(\Delta), X} \mathV''$}
			\LeftLabel{\derRule{\displayten}}
			\TIC{$\focus{\Psi}{\Delta}{\af{\phi_1 \llten \phi_2}{e}} \fCenter \separator \constr{\Lambda}{\mathV''}$} % capisco il movimento dei constraint
			\DP
			\\ 
			\AX$\focus{\Psi}{\Delta}{\af{\phi_1}{e}} \fCenter \separator \constr{\used{e}, \Lambda}{\mathV}$
			\LeftLabel{\derRule{\displayplus[L]}}
			\UI$\focus{\Psi}{\Delta}{\af{\phi_1 \llplus \phi_2}{e}} \fCenter \separator \constr{\Lambda}{\mathV}$
			\DP
			&
			\AX$\focus{\Psi}{\Delta}{\af{\phi_2}{e}} \fCenter \separator \constr{\used{e}, \Lambda}{\mathV}$
			\LeftLabel{\derRule{\displayplus[R]}}
			\UI$\focus{\Psi}{\Delta}{\af{\phi_1 \llplus \phi_2}{e}} \fCenter \separator \constr{\Lambda}{\mathV}$
			\DP
			\\
			\AXC{$\sat{ \used{e}, \avail{\Delta}, \Lambda}{\mathV}$}
			\LeftLabel{\derRule{\displayone}}
			\UIC{$\focus{\Psi}{\Delta}{\af{\llone}{e}} \separator \constr{\Lambda}{\mathV}$}
			\DP
			&
			\AX$\focus{\Psi}{\Delta}{\af{\phi}{e}} \fCenter \separator \constr{\used{e}, \avail{\Delta}, \Lambda }{\mathV}$
			\LeftLabel{\derRule{\displaybang}}
			\UI$\focus{\Psi}{\Delta}{\af{\llbang{\phi}}{e}} \fCenter \separator \constr{\Lambda}{\mathV}$
			\DP
			\\
			\SetCell[c=2]{c}
			\AXC{$\phi \; \mathrm{negative}$}
			\AXC{$\async{\Psi}{\Delta}{\af{\phi}{e}} \separator \constr{\used{e}, \Lambda}{\mathV}$}
			\LeftLabel{\derRule{\displaytoasy}}
			\BIC{$\focus{\Psi}{\Delta}{\af{\phi}{e}} \separator \constr{\Lambda}{\mathV}$}
			\DP
		\end{tblr}
		\caption{Synchronous rules}
	\end{subfigure}
\end{figure}
\begin{figure}[h!]
	\ContinuedFloat
	\begin{subfigure}{\textwidth}
		\centering
		\begin{tblr}{ colspec = { c }
			    , rows = {abovesep=10pt, belowsep=10pt}
			    , cells = { preto = {\footnotesize} }
			    }
			\AXC{$ \isNegLit{\alpha} $}
			\AXC{$ \sat{\used{e_1}, \used{e_2}, \avail{\Delta}, \Lambda}{\mathV}$}
			\LeftLabel{\derRule{\displayid[1]}}
			\BIC{$\focus{\Psi}{\af{\alpha}{e_1}, \Delta}{\af{\llnot{\alpha}}{e_2}} \separator \constr{\Lambda}{\mathV}$}
			\DP
			\\
			\AXC{$ \isNegLit{\alpha} $}
			\AXC{$ \sat{\used{e}, \avail{\Delta}, \Lambda }{\mathV}$}
			\LeftLabel{\derRule{\displayid[2]}}
			\BIC{$\focus{\alpha, \Psi}{\Delta}{\af{\llnot{\alpha}}{e}} \separator \constr{\Lambda}{\mathV}$}
			\DP
			\\
			\AXC{$\neg \isNegLit{\phi}$}
			\AXC{$\focus{\Psi}{\Delta}{\af{\phi}{e}} \separator \constr{\used{e}, \Lambda}{\mathV}$}
			\LeftLabel{\derRule{\displaydecide[1]}}
			\BIC{$\async{\Psi}{\af{\phi}{e}, \Delta}{.} \separator \constr{\Lambda}{\mathV}$}
			\DP
			\\
			\AXC{$\neg \isNegLit{\phi}$}
			\AXC{$\new{x}$}
			\AXC{$\focus{\Psi}{\Delta}{\af{\phi}{x}} \separator \constr{\used{e}, \Lambda}{\mathV}$}
			\LeftLabel{\derRule{\displaydecide[2]}}
			\TrinaryInfC{$\async{\phi, \Psi}{\Delta}{.} \separator \constr{\Lambda}{\mathV}$}
			\DP
		\end{tblr}
		\caption{Identity and decide rules}
	\end{subfigure}
	\caption{Focused constraint calculus for Linear Logic}
	\label{fig:calculus}
\end{figure}
