\chapter{Harland\&Pym's calculus}
\begin{figure}[h!]
	\centering
	\begin{tblr}{ colspec = { cc }
		, rows = {abovesep=7pt, belowsep=7pt}
		, cells = { preto = {\footnotesize} }
		}
		\SetCell[c=2]{c}
		\AX$\vdash_\text{PH} \Delta, \af{\phi_1}{e}, \af{\phi_2}{e}\fCenter \separator \constr{\used{e}, \Lambda}{\mathV}$
		\LeftLabel{\derRule[PH]{\displaypar}}
		\UI$\vdash_\text{PH} \Delta, \af{\phi_1 \llpar \phi_2}{e} \fCenter \separator \constr{\Lambda}{\mathV}$
		\DP
		\\
		\AX$\vdash_\text{PH} \Delta \fCenter \separator \constr{\used{e}, \Lambda}{\mathV}$
		\LeftLabel{\derRule[PH]{\displaybot}}
		\UI$\vdash_\text{PH} \Delta, \af{\llbot}{e} \fCenter \separator \constr{\Lambda}{\mathV}$
		\DP
		&
		\AXC{}
		\LeftLabel{\derRule[PH]{\displaytop}}
		\UIC{$\vdash_\text{PH} \Delta, \af{\lltop}{-} \separator \constr{\Lambda}{\mathV}$}
		\DP
		\\
		\SetCell[c=2]{c} 
		\AXC{$\vdash_\text{PH} \Delta, \af{\phi_2}{e} \separator \constr{\used{e}, \Lambda}{\mathV'}$}
		\AXC{$\vdash_\text{PH} \Delta, \af{\phi_1}{e} \separator \constr{\used{e}, \Lambda}{\mathV''}$}
		\LeftLabel{\derRule[PH]{\displaywith}}
		\BIC{$\vdash_\text{PH} \Delta, \af{\phi_1 \llwith \phi_2}{e} \separator \constr{\Lambda}{\mathV''}$}	
		\DP
		\\
		\SetCell[c=2]{c} 
		\AXC{$\vdash_\text{PH} \Delta_L^X, \af{\phi_1}{e} \separator \constr{\used{e}, \Lambda}{\mathV'}$}
		\AXC{$\vdash_\text{PH} \Delta_R^X, \af{\phi_2}{e} \separator \constr{\mathV'}{\mathV''}$}
		\LeftLabel{\derRule[PH]{\displayten}}
		\BIC{$\vdash_\text{PH} \Delta, \af{\phi_1 \llten \phi_2}{e} \separator \constr{\Lambda}{\mathV''}$}	% capisco il movimento dei constraint
		\DP
		\\ 
		\SetCell[c=2]{c} 
		\AXC{$\new{x}$}
		\AXC{$\vdash_\text{PH} \Delta, \af{\phi_1}{x}, \af{\phi_2}{\varNot{x}} \fCenter \separator \constr{\used{e}, \Lambda}{\mathV}$}
		\LeftLabel{\derRule[PH]{\displayplus}}
		\BIC{$\vdash_\text{PH} \Delta, \af{\phi_1 \llplus \phi_2}{e} \fCenter \separator \constr{\Lambda}{\mathV}$}
		\DP
		\\
		\AXC{$\sat{ \used{e}, \Lambda, \avail{\Delta}}{\mathV}$}
		\LeftLabel{\derRule[PH]{\displayone}}
		\UIC{$\vdash_\text{PH} \Delta, \af{\llone}{e} \separator \constr{\Lambda}{\mathV}$}
		\DP
		&
		\AX$\vdash_\text{PH} \llwn{\Delta}, \af{\phi}{e} \fCenter \separator \constr{\used{e}, \Lambda}{\mathV}$
		\LeftLabel{\derRule[PH]{\displaybang}}
		\UI$\vdash_\text{PH} \llwn{\Delta}, \af{\llbang{\phi}}{e} \fCenter \separator \constr{\Lambda}{\mathV}$
		\DP
		\\
		\SetCell[c=2]{c} 
		\AX$\vdash_\text{PH} \Delta, \af{\phi}{e} \fCenter \separator \constr{\used{e}, \Lambda}{\mathV}$
		\LeftLabel{\derRule[PH]{\displaywn}}
		\UI$\vdash_\text{PH} \Delta, \af{\llwn{\phi}}{e} \fCenter \separator \constr{\Lambda}{\mathV}$
		\DP
		\\
		\AX$\vdash_\text{PH} \Delta \fCenter \separator \constr{\used{e}, \Lambda}{\mathV}$
		\LeftLabel{\derRule[PH]{W?}}
		\UI$\vdash_\text{PH} \llwn{\af{\phi}{e}}, \Delta \fCenter \separator \constr{\Lambda}{\mathV}$
		\DP
		&
		\AX$\vdash_\text{PH} \af{\llwn{\phi}}{e}, \af{\llwn{\phi}}{e}, \Delta \fCenter \separator \constr{\used{e}, \Lambda}{\mathV}$
		\LeftLabel{\derRule[PH]{C?}}
		\UI$\vdash_\text{PH} \llwn{\af{\phi}{e}}, \Delta \fCenter \separator \constr{\Lambda}{\mathV}$
		\DP
		\\
		\SetCell[c=2]{c} 
		\AXC{$ \isNegLit{\alpha} $}
		\AXC{$ \sat{\Lambda, \used{e_1}, \used{e_2}, \avail{\Delta}}{\mathV}$}
		\LeftLabel{\derRule[PH]{A}}
		\BIC{$\vdash_\text{PH} \af{\alpha}{e_1}, \af{\llnot{\alpha}}{e_2}, \Delta \separator \constr{\Lambda}{\mathV}$}
		\DP
	\end{tblr}
	\caption{The one sided version of the calculus from \cite{HarlandPym} with explicit constraint propagation}
	\label{fig:hp calculus}
\end{figure}
